@import "o-assets/main";
@import "o-colors/main";
@import "o-grid/main";
@import "o-hoverable/main";

/// Footer spacing unit
/// @type Number
$o-footer-spacing-unit: 20px;

@include oColorsSetUseCase(o-footer, background, 'grey-tint5');
@include oColorsSetUseCase(o-footer, text, 'white');
@include oColorsSetUseCase(o-footer__pearson, background, 'grey-tint4');
@include oColorsSetUseCase(o-footer__divider, border, 'white');
@include oColorsSetUseCase(o-footer-item, text, 'white');
@include oColorsSetUseCase(o-footer__copyright, text, 'grey-tint2');

@include oColorsSetUseCase(o-footer--theme-light, background, 'pink-tint1');
@include oColorsSetUseCase(o-footer--theme-light, text, 'grey-tint5');
@include oColorsSetUseCase(o-footer--theme-light__pearson, background, 'pink-tint4');
@include oColorsSetUseCase(o-footer--theme-light__divider, border, 'pink-tint3');
@include oColorsSetUseCase(o-footer--theme-light-item, text, 'grey-tint5');
@include oColorsSetUseCase(o-footer--theme-light__copyright, text, 'grey-tint3');

.o-footer {
	@include oColorsFor(o-footer, text background);
	font-size: 14px;
	margin-top: 40px;
	padding: 0;
	border-top: 5px solid oColorsGetColorFor(o-footer-brand product-brand, background);
	line-height: $o-footer-spacing-unit;

	> nav {
		margin-top: $o-footer-spacing-unit;
		margin-bottom: $o-footer-spacing-unit;
		padding-bottom: $o-footer-spacing-unit;
		border-bottom: oColorsGetColorFor(o-footer__divider, border) dotted 1px;
	}

	ul {
		list-style-type: none;
		padding: 0;
		margin-top: 0;
		margin-bottom: 0;
	}
}

.o-footer--theme-light {
	border-top-width: 5px;
	@include oColorsFor(o-footer--theme-light, text background);

	> nav {
		border-bottom-color: oColorsGetColorFor(o-footer--theme-light__divider, border);
	}
}

.o-footer__title {
	margin-top: 0;
	margin-bottom: $o-footer-spacing-unit;
	font-weight: normal;
	font-size: 14px;
	text-transform: uppercase;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	width: 100%;
	color: oColorsGetColorFor(o-footer-item, text);

	.o-footer--theme-light & {
		color: oColorsGetColorFor(o-footer--theme-light-item, text);
	}
}

.o-footer__link {
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;

	> a {
		display: block; // Make links easier to tap by increasing their hitzone
		text-decoration: none;
		padding: 2px 0;
		color: oColorsGetColorFor(o-footer-item, text);

		.o-footer--theme-light & {
			color: oColorsGetColorFor(o-footer--theme-light-item, text);
		}

		#{$o-hoverable-if-hover-enabled} &:hover,
		&:focus {
			color: oColorsGetColorFor(link-title-hover, text);
		}
	}
}

.o-footer__section-link > a {
	text-transform: uppercase;
}
.o-footer__link-lists {
	margin-top: $o-footer-spacing-unit;
}
.o-footer__link-list {
	margin-bottom: $o-footer-spacing-unit;
	padding-top: (2 * $o-footer-spacing-unit);

	> ul {
		margin: 0;
	}
	> .o-footer__title {
		margin-top: (-2 * $o-footer-spacing-unit);
	}
}

.o-footer__row {
	@include oGridRow;
}
.o-footer__col {
	@include oGridColumn((default: 12, S: 6, M: 4, L: 3, XL: 2));
}
.o-footer__col--full-width {
	@include oGridColspan(full-width);
}

.o-footer__copyright {
	margin-top: $o-footer-spacing-unit;
	margin-bottom: $o-footer-spacing-unit;
	font-style: 14px;
	line-height: 1.3;
	color: oColorsGetColorFor(o-footer__copyright, text);

	span {
		display: inline-block;
	}

	.o-footer--theme-light & {
		color: oColorsGetColorFor(o-footer--theme-light__copyright, text);
	}
}

.o-footer__pearson {
	background-color: oColorsGetColorFor(o-footer__pearson o-footer, background);
	padding-top: $o-footer-spacing-unit - 5;
	padding-bottom: $o-footer-spacing-unit - 5;
	color: oColorsGetColorFor(o-footer__pearson o-footer, text);

	.o-footer--theme-light & {
		background-color: oColorsGetColorFor(o-footer--theme-light__pearson o-footer, background);
		color: oColorsGetColorFor(o-footer--theme-light__pearson o-footer, text);
	}
}

.o-footer__pearson-tagline,
.o-footer__pearson-logo {
	height: 16px;
	background-image: url(oAssetsResolve("img/pearson_sprite.gif", o-footer));
	background-repeat: no-repeat;
	white-space: nowrap;

	// The weird value for rgba is to prevent Sass converting rgba(0,0,0,0) to 'transparent', which would cause the following line of css to be understood by IE7/8 and the svg to be downloaded
	background: rgba(0, 0, 0, 0.001) url(oAssetsResolve("img/pearson_sprite.svg", o-footer)) no-repeat;
}

.o-footer__pearson-tagline {
	float: left;
	width: 170px;
}

.o-footer__pearson-logo {
	float: right;
	width: 100px;
	background-position: right 0;
}

@include oGridRespondTo($until: S) {
	.o-footer__link-lists {
		margin-top: 0;
		margin-bottom: $o-footer-spacing-unit;
	}
	.o-footer__link-list {
		margin-bottom: 0;
		padding-top: 0;

		> ul {
			margin-top: 0;
		}
		> .o-footer__title {
			position: static;
			margin-top: 0;
			margin-bottom: $o-footer-spacing-unit;
		}
		+ .o-footer__link-list {
			> .o-footer__title {
				margin-top: $o-footer-spacing-unit * 1.75;
			}
		}
	}

	// Inside media query to hide from browsers that don't support MQs and therefore also don't support max-width or background-size
	.o-footer__pearson-tagline {
		max-width: 170px;
		// need to keep 17/28 of the width visible
		// but we round down to 27 to allow for browser pixel rounding errors
		background-size: (2700% / 17);
		// need to take up 17/27 of the width available,
		// but we round down to 16 to allow for browser pixel rounding errors
		width: (1600% / 27);
	}
	.o-footer__pearson-logo {
		max-width: 100px;
		// need to keep 10/28 of the width visible
		// but we round down to 27 to allow for browser pixel rounding errors
		background-size: (2700% / 10);
		// need to take up 10/27 of the width available,
		// but we round down to 9 to allow for browser pixel rounding errors
		width: (900% / 27);
	}
}
