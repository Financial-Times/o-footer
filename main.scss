@import "o-assets/main";
@import "o-colors/main";
@import "o-grid/main";
@import "o-typography/main";

@import "src/scss/variables";
@import "src/scss/colors";

.o-footer {
	@include oTypographySansSize('s');
	margin-top: (2 * $o-footer-spacing-unit);
	padding: 0;
	border-top: 10px solid;
	line-height: $o-footer-spacing-unit;
}

.o-footer--theme-dark {
	@include oColorsFor('o-footer--theme-dark', 'text' 'background');
	border-color: oColorsGetColorFor('o-footer--theme-dark', 'border');
}

.o-footer--theme-light {
	@include oColorsFor('o-footer--theme-light', 'text' 'background');
	border-color: oColorsGetColorFor('o-footer--theme-light', 'border');
}

.o-footer__title,
.o-footer__link > a {
	font-size: inherit;
	line-height: inherit;
	overflow: hidden;
	width: 100%;
	white-space: nowrap;
	text-overflow: ellipsis;
}

.o-footer__title {
	margin: 0 0 $o-footer-spacing-unit / 2;
	font-weight: 600;

	// Make the white text look crisper and less bold on dark backgrounds
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

// TODO: just apply the class name to the element?
.o-footer__link {
	> a {
		display: block;
		padding: 4px 0;
		text-decoration: none;

		.o-footer--theme-dark & {
			color: oColorsGetColorFor('o-footer--theme-dark__link', 'text');

			&:hover,
			&:focus {
				color: oColorsGetColorFor('o-footer--theme-dark__link-hover', 'text');
			}
		}

		.o-footer--theme-light & {
			color: oColorsGetColorFor('o-footer--theme-light__link', 'text');

			&:hover,
			&:focus {
				color: oColorsGetColorFor('o-footer--theme-light__link-hover', 'text');
			}
		}
	}
}

.o-footer__link-lists {
	padding-top: $o-footer-spacing-unit;
}

.o-footer__link-list {
	padding-top: (2 * $o-footer-spacing-unit);
	margin-bottom: (1 * $o-footer-spacing-unit);

	> ul {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	> .o-footer__title {
		margin-top: (-2 * $o-footer-spacing-unit);
	}
}

.o-footer__container {
	@include oGridContainer;
}

.o-footer__row {
	@include oGridRow;
}

.o-footer__col {
	@include oGridColspan((default: 12, S: 6, M: 4, L: 3, XL: 2));
}

.o-footer__col--full-width {
	@include oGridColspan(full-width, $width-only: true);
}

.o-footer__copyright {
	margin-top: $o-footer-spacing-unit;
	margin-bottom: $o-footer-spacing-unit;

	.o-footer--theme-dark & {
		color: oColorsGetColorFor('o-footer--theme-dark__copyright', 'text');
	}

	.o-footer--theme-light & {
		color: oColorsGetColorFor('o-footer--theme-light__copyright', 'text');
	}
}

.o-footer__brand {
	padding-top: $o-footer-spacing-unit - 5;
	padding-bottom: $o-footer-spacing-unit - 5;

	.o-footer--theme-dark & {
		background-color: oColorsGetColorFor('o-footer--theme-dark__brand', 'background');
		color: oColorsGetColorFor('o-footer--theme-dark', 'text');
	}

	.o-footer--theme-light & {
		background-color: oColorsGetColorFor('o-footer--theme-light__brand', 'background');
		color: oColorsGetColorFor('o-footer--theme-light', 'text');
	}
}

.o-footer__brand-logo {
	height: 20px;

	// The weird value for rgba is to prevent Sass converting rgba(0,0,0,0) to 'transparent'
	// which would cause the following line to be understood by IE7/8 and the svg to be downloaded
	background: url(oAssetsResolve("img/nikkei_logo.png", o-footer));
	background: rgba(0, 0, 0, 0.001) url(oAssetsResolve("img/nikkei_logo.svg", o-footer));
	background-repeat: no-repeat;
	background-position: right;
}

@include oGridRespondTo($until: S) {
	.o-footer__link-lists {
		margin-top: 0;
		margin-bottom: 2 * $o-footer-spacing-unit;
	}
	.o-footer__link-list {
		margin-bottom: 0;
		padding-top: 0;

		> ul {
			margin-top: 0;
		}
		> .o-footer__title {
			position: static;
			margin-top: 0;
			margin-bottom: $o-footer-spacing-unit / 2;
		}
		+ .o-footer__link-list {
			> .o-footer__title {
				margin-top: $o-footer-spacing-unit;
			}
		}
	}
}
